@{
    // Server-side theme logic (optional)
    var defaultTheme = "dark"; // You can make this dynamic based on user settings, time, etc.
    var currentHour = DateTime.Now.Hour;
    
    // Example: Auto dark mode between 6 PM and 6 AM
    if (currentHour >= 18 || currentHour < 6)
    {
        defaultTheme = "dark";
    }
    else
    {
        defaultTheme = "light";
    }
}

<!DOCTYPE html>
<html lang="en" data-theme="@defaultTheme">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />

    <title>Duende IdentityServer</title>
    
    <link rel="icon" type="image/x-icon" href="~/favicon.ico" />
    <link rel="shortcut icon" type="image/x-icon" href="~/favicon.ico" />
    
    <!-- add font awesome -->
      <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet">

    @{
        var tabsModule = "~/lib/@colmkenna/ck-tabs/dist/index.esm.js";
        var responsiveTableModule = "~/lib/@colmkenna/ck-responsive-table-webcomponent/dist/index.esm.js";
        var editArrayModule = "~/lib/@colmkenna/ck-edit-array/dist/ck-edit-array.js";
    }
    <script type="module" src="@tabsModule"></script>
    <script type="module" src="@responsiveTableModule"></script> 
    <script type="module" src="@editArrayModule"></script>

    <!-- Bootstrap removed - using custom CSS only -->
    <link rel="stylesheet" href="~/css/site.css" />
    <link rel="stylesheet" href="~/css/forms.css" />
    <link rel="stylesheet" href="~/css/multiselect.css"/>


    <script src="~/js/sideMenu.js"></script>
    <script type="module" src="~/js/confirmModal.js"></script>
</head>
<body>
    <partial name="_Nav" />
    
    <div class="main-container">
        <div class="sidebar" id="sidebar">
            <ul class="sidebar__list">
                <li class="sidebar__item" data-title="Dashboard" data-url="@Url.Page("/Admin/Index")">
                    <!-- Dashboard Icon -->
                    <svg class="sidebar__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
                    </svg>
                    <span class="sidebar__text">Dashboard</span>
                </li>

                <li class="sidebar__item" data-title="Users" data-url="@Url.Page("/Admin/Users/Index")">
                    <!-- Users Icon -->
                    <svg class="sidebar__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.67 0-8 1.34-8 4v3h8v-3c0-.66.08-1.31.22-1.93C8.74 13.86 8.39 13 8 13zm8 0c-.39 0-.74.86-.22 1.07.14.62.22 1.27.22 1.93v3h8v-3c0-2.66-5.33-4-8-4z"/>
                    </svg>
                    <span class="sidebar__text">Users</span>
                </li>

                <li class="sidebar__item" data-title="Clients" data-url="@Url.Page("/Admin/Clients/Index")">
                    <!-- Clients Icon -->
                    <svg class="sidebar__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M12 12c2.7 0 5.6 1.3 6 4v2H6v-2c.4-2.7 3.3-4 6-4zm0-2a4 4 0 100-8 4 4 0 000 8z"/>
                    </svg>
                    <span class="sidebar__text">Clients</span>
                </li>

                <li class="sidebar__item" data-title="Roles">
                    <!-- Roles Icon -->
                    <svg class="sidebar__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M12 1l3 5.9 6.6.9-4.8 4.7 1.1 6.5L12 16.9l-5.9 3.1 1.1-6.5-4.8-4.7 6.6-.9L12 1z"/>
                    </svg>
                    <span class="sidebar__text">Roles</span>
                </li>
            </ul>
            
        </div>

    <div class="content" id="content">
        @RenderBody()
    </div>
    </div>
    <!-- Theme Configuration -->
    <!-- Moved inline theme script to external file -->


    <partial name="_ConfirmModal" />
    @RenderSection("scripts", required: false)
</body>
</html>
